<?php

namespace Database\Seeders;

use App\Models\City;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Str;

class CitiesTableSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        if(City::count()){
            City::truncate();
        }

        $cities = [
                "آذربایجان شرقی",
                "آذربایجان غربی",
                "اردبیل",
                "اصفهان",
                "البرز",
                "ایلام",
                "بوشهر",
                "تهران",
                "چهارمحال وبختیاری",
                "خراسان جنوبی",
                "خراسان رضوی",
                "خراسان شمالی",
                "خوزستان",
                "زنجان",
                "سمنان",
                "سیستان وبلوچستان",
                "فارس",
                "قزوین",
                "قم",
                "کردستان",
                "کرمان",
                "کرمانشاه",
                "کهگیلویه وبویراحمد",
                "گلستان",
                "گیلان",
                "لرستان",
                "مازندران",
                "مرکزی",
                "هرمزگان",
                "همدان",
                "یزد"
        ];
        $subCities=[
            ["آذرشهر","اسکو","اهر","بستان آباد","بناب","تبریز","جلفا","چاراویماق","خداآفرین","سراب","شبستر","عجب شیر","کلیبر","مراغه","مرند","ملکان","میانه","ورزقان","هریس","هشترود"],
            ["ارومیه","اشنویه","بوکان","پلدشت","پیرانشهر","تکاب","چالدران","چایپاره","خوی","سردشت","سلماس","شاهین دژ","شوط","ماکو","مهاباد","میاندوآب","نقده"],
            ["اردبیل","بیله سوار","پارس آباد","خلخال","سرعین","کوثر","گرمی","مشگین شهر","نمین","نیر"],
            ["آران وبیدگل","اردستان","اصفهان","برخوار","بو یین و میاندشت","تیران وکرون","چادگان","خمینی شهر","خوانسار","خور و بیابانک","دهاقان","سمیرم","شاهین شهرومیمه","شهرضا","فریدن","فریدونشهر","فلاورجان","کاشان","گلپایگان","لنجان","مبارکه","نایین","نجف آباد","نطنز"],
            ["آبدانان","ایلام","ایوان","بدره","چرداول","دره شهر","دهلران","سیروان","ملکشاهی","مهران"],
            ["اشتهارد","ساوجبلاغ","طالقان","فردیس","کرج","نظرآباد"],
            ["بوشهر","تنگستان","جم","دشتستان","دشتی","دیر","دیلم","عسلویه","کنگان","گناوه"],
            ["اسلامشهر","بهارستان","پاکدشت","پردیس","پیشوا","تهران","دماوند","رباطکریم","ری","شمیرانات","شهریار","فیروزکوه","قدس","قرچک","ملارد","ورامین"],
            ["اردل","بروجن","بن","سامان","شهرکرد","فارسان","کوهرنگ","کیار","لردگان"],
            ["بشرویه","بیرجند","خوسف","درمیان","زیرکوه","سرایان","سربیشه","طبس","فردوس","قاینات","نهبندان"],
            ["باخرز","بجستان","بردسکن","بینالود","تایباد","تربت جام","تربت حیدریه","جغتای","جوین","چناران","خلیل آباد","خواف","خوشاب","داورزن","درگز","رشتخوار","زاوه","سبزوار","سرخس","فریمان","فیروزه","قوچان","کاشمر","کلات","گناباد","مشهد","مه ولات","نیشابور"],
            ["اسفراین","بجنورد","جاجرم","راز و جرگلان","شیروان","فاروج","گرمه","مانه وسملقان"],
            ["آبادان","آغاجاری","امیدیه","اندیکا","اندیمشک","اهواز","ایذه","باغ ملک","باوی","بندرماهشهر","بهبهان","حمیدیه","خرمشهر","دزفول","دشت آزادگان","رامشیر","رامهرمز","شادگان","شوش","شوشتر","کارون","گتوند","لالی","مسجدسلیمان","هفتگل","هندیجان","هویزه"],
            ["ابهر","ایجرود","خدابنده","خرمدره","زنجان","سلطانیه","طارم","ماهنشان"],
            ["آرادان","دامغان","سرخه","سمنان","شاهرود","گرمسار","مهدی شهر","میامی"],
            ["ایرانشهر","چابهار","خاش","دلگان","زابل","زاهدان","زهک","سراوان","سرباز","سیب و سوران","فنوج","قصرقند","کنارک","مهرستان","میرجاوه","نیک شهر","نیمروز","هامون","هیرمند"],
            ["آباده","ارسنجان","استهبان","اقلید","بوانات","پاسارگاد","جهرم","خرامه","خرم بید","خنج","داراب","رستم","زرین دشت","سپیدان","سروستان","شیراز","فراشبند","فسا","فیروزآباد","قیروکارزین","کازرون","کوار","گراش","لارستان","لامرد","مرودشت","ممسنی","مهر","نی ریز"],
            ["آبیک","آوج","البرز","بویین زهرا","تاکستان","قزوین"],
            ["قم"],
            ["بانه","بیجار","دهگلان","دیواندره","سروآباد","سقز","سنندج","قروه","کامیاران","مریوان"],
            ["ارزوییه","انار","بافت","بردسیر","بم","جیرفت","رابر","راور","رفسنجان","رودبارجنوب","ریگان","زرند","سیرجان","شهربابک","عنبرآباد","فاریاب","فهرج","قلعه گنج","کرمان","کوهبنان","کهنوج","منوجان","نرماشیر"],
            ["اسلام آبادغرب","پاوه","ثلاث باباجانی","جوانرود","دالاهو","روانسر","سرپل ذهاب","سنقر","صحنه","قصرشیرین","کرمانشاه","کنگاور","گیلانغرب","هرسین"],
            ["باشت","بویراحمد","بهمیی","چرام","دنا","کهگیلویه","گچساران","لنده"],
            ["آزادشهر","آق قلا","بندرگز","ترکمن","رامیان","علی آباد","کردکوی","کلاله","گالیکش","گرگان","گمیشان","گنبدکاووس","مراوه تپه","مینودشت"],
            ["آستارا","آستانه اشرفیه","املش","بندرانزلی","رشت","رضوانشهر","رودبار","رودسر","سیاهکل","شفت","صومعه سرا","طوالش","فومن","لاهیجان","لنگرود","ماسال"],
            ["ازنا","الیگودرز","بروجرد","پلدختر","خرم آباد","دلفان","دورود","دوره","رومشکان","سلسله","کوهدشت"],
            ["آمل","بابل","بابلسر","بهشهر","تنکابن","جویبار","چالوس","رامسر","ساری","سوادکوه","سوادکوه شمالی","سیمرغ","عباس آباد","فریدونکنار","قایم شهر","کلاردشت","گلوگاه","محمودآباد","میاندورود","نکا","نور","نوشهر"],
            ["آشتیان","اراک","تفرش","خمین","خنداب","دلیجان","زرندیه","ساوه","شازند","فراهان","کمیجان","محلات"],
            ["ابوموسی","بستک","بشاگرد","بندرعباس","بندرلنگه","پارسیان","جاسک","حاجی اباد","خمیر","رودان","سیریک","قشم","میناب"],
            ["اسدآباد","بهار","تویسرکان","رزن","فامنین","کبودرآهنگ","ملایر","نهاوند","همدان"],
            ["ابرکوه","اردکان","اشکذر","بافق","بهاباد","تفت","خاتم","مهریز","میبد","یزد"]
        ];

        City::create([
            'name' => 'ایران',
            'parent_id' => null,
            'slug' => 'iran',
        ]);

        foreach($cities as $city){
            City::create([
                'name' => $city,
                'parent_id' => 1,
                'slug' => Str::slug($city),
            ]);

        }
        foreach($subCities as $k=>$subCities2){
            foreach($subCities2 as $subCity){
                City::create([
                    'name' => $subCity,
                    'parent_id' => $k+2,
                    'slug' => Str::slug($subCity),
                ]);
            }
        }
    }
}
